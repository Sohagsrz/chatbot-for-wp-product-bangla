:root { --bg:#0f172a; --fg:#e2e8f0; --muted:#94a3b8; --accent:#22c55e; --card:#111827; }
:root.light { --bg:#f8fafc; --fg:#0f172a; --muted:#475569; --accent:#0ea5e9; --card:#ffffff; }
html,body{height:100%;}
body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, "Noto Sans Bengali", "Hind Siliguri", "SolaimanLipi", sans-serif; background:var(--bg); color:var(--fg); display:flex; flex-direction:column; }
.app-header{display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid rgba(148,163,184,0.2); background:var(--card); position:sticky; top:0;}
.app-header h1{font-size:18px; margin:0;}
.controls button{background:transparent; color:var(--fg); border:1px solid rgba(148,163,184,0.3); padding:6px 10px; border-radius:8px; cursor:pointer;}
.chat{flex:1; overflow:auto; padding:12px; display:flex; flex-direction:column; gap:10px;}
#messages{list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:10px;}
.msg{max-width:80%; padding:10px 12px; border-radius:12px; background:var(--card); border:1px solid rgba(148,163,184,0.2);}
.msg.bot{align-self:flex-start;}
.msg.user{align-self:flex-end; background:linear-gradient(180deg, var(--accent), color-mix(in oklab, var(--accent) 70%, black)); color:#062d16;}
.msg img{max-width:220px; height:auto; display:block; border-radius:10px; margin-top:6px; border:1px solid rgba(148,163,184,0.25);}
.msg a{color:inherit; text-decoration:underline;}
.attachment{padding:0; background:transparent; border:none}
.attachment img{display:block; max-width:240px; height:auto; border-radius:12px; border:1px solid rgba(148,163,184,0.25)}
.typing{padding:8px 12px; color:var(--muted);}
.typing-bubble{display:inline-flex; gap:4px; align-items:center; background:var(--card); border:1px solid rgba(148,163,184,0.2); padding:8px 10px; border-radius:14px}
.typing-dot{width:6px; height:6px; border-radius:50%; background:var(--muted); opacity:.3; animation: pulse 1s infinite}
.typing-dot:nth-child(2){animation-delay:.15s}
.typing-dot:nth-child(3){animation-delay:.3s}
@keyframes pulse{0%{opacity:.3; transform:translateY(0)} 50%{opacity:1; transform:translateY(-2px)} 100%{opacity:.3; transform:translateY(0)}}
.composer{position:sticky; bottom:0; background:var(--card); border-top:1px solid rgba(148,163,184,0.2); padding:8px 12px; display:flex; flex-direction:column; gap:8px;}
.suggestions{display:flex; gap:8px; flex-wrap:wrap;}
.chip{background:transparent; color:var(--fg); border:1px solid rgba(148,163,184,0.3); padding:6px 10px; border-radius:999px; cursor:pointer;}
#form{display:flex; gap:8px; align-items:center;}
#uploadBtn{background:transparent; border:1px solid rgba(148,163,184,0.3); color:var(--fg); padding:8px 10px; border-radius:10px; cursor:pointer;}
#input{flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(148,163,184,0.3); background:transparent; color:var(--fg);}
#send{padding:10px 14px; border-radius:10px; background:var(--accent); border:0; color:white; cursor:pointer;}
.notice{font-size:12px; color:var(--muted);}
.msg[role="listitem"]:focus{outline:2px solid var(--accent);}


